---
# Playbook pour tester la connectivitÃ© vers tous les nÅ“uds
# Usage: ansible-playbook -i inventories/terraform_inventory.yml playbooks/ping.yml

- name: "ğŸ“ Test de connectivitÃ© vers tous les nÅ“uds"
  hosts: all
  gather_facts: no
  
  tasks:
    - name: "ğŸ” Test de ping"
      ping:
      
    - name: "ğŸ“‹ RÃ©cupÃ©ration des informations de base"
      setup:
        gather_subset: 
          - min
          - network
      
    - name: "ğŸ“Š Affichage des informations"
      debug:
        msg: |
          ğŸ¯ HÃ´te: {{ inventory_hostname }}
          ğŸŒ IP publique: {{ ansible_host }}
          ğŸ”’ IP privÃ©e: {{ private_ip }}
          ğŸ’¿ OS: {{ ansible_distribution }} {{ ansible_distribution_version }}
          ğŸ—ï¸ Architecture: {{ ansible_architecture }}
          âš¡ Instance: {{ instance_id }}
          ğŸ“ Zone AZ: {{ availability_zone }}